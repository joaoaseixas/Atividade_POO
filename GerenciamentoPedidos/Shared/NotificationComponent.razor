@inject NotificationService Notifier

<div class="toast-container position-fixed top-0 end-0 p-3">
    @if (_visible)
    {
        <div class="toast show align-items-center text-bg-@_type border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body">@_message</div>
                <button class="btn-close me-2 m-auto" @onclick="Hide"></button>
            </div>
        </div>
    }
</div>

@code {
    bool _visible;
    string _message = "", _type = "success";

    protected override void OnInitialized()
    {
        Notifier.OnNotify += Show;
    }

    void Show(string msg, string type)
    {
        _message = msg;
        _type = type;
        _visible = true;
        StateHasChanged();
        _ = Task.Delay(3000).ContinueWith(_ => Hide());
    }

    void Hide()
    {
        _visible = false;
        InvokeAsync(StateHasChanged);
    }
}
